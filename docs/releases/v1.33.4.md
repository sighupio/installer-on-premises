# On Premises module release v1.33.4

Welcome to the latest release of `on-premises` module of [`SIGHUP Distribution`](https://github.com/sighupio/distribution) maintained by SIGHUP by ReeVo team.

This release adds support for Kubernetes v1.33.4, v1.32.8, v1.31.12

## Package Versions ðŸš¢

### v1.33.4

| Package                                        | Supported Version | Previous Version |
| ---------------------------------------------- | ----------------- | ---------------- |
| [etcd](roles/etcd)                             | `3.5.21`          | `3.5.16`         |
| [haproxy](roles/haproxy)                       | `3.0`             | `No update`      |
| [containerd](roles/containerd)                 | `1.7.28`          | `1.7.26`         |
| [kube-node-common](roles/kube-node-common)     | `-`               | `Updated`        |
| [kube-control-plane](roles/kube-control-plane) | `-`               | `Updated`        |
| [kube-worker](roles/kube-worker)               | `-`               | `No update`      |

### v1.32.8

| Package                                        | Supported Version | Previous Version |
| ---------------------------------------------- | ----------------- | ---------------- |
| [etcd](roles/etcd)                             | `3.5.21`          | `3.5.16`         |
| [haproxy](roles/haproxy)                       | `3.0`             | `No update`      |
| [containerd](roles/containerd)                 | `1.7.26`          | `No update`      |
| [kube-node-common](roles/kube-node-common)     | `-`               | `Updated`        |
| [kube-control-plane](roles/kube-control-plane) | `-`               | `Updated`        |
| [kube-worker](roles/kube-worker)               | `-`               | `No update`      |


### v1.31.12

| Package                                        | Supported Version | Previous Version |
| ---------------------------------------------- | ----------------- | ---------------- |
| [etcd](roles/etcd)                             | `3.5.21`          | `3.5.16`         |
| [haproxy](roles/haproxy)                       | `3.0`             | `No update`      |
| [containerd](roles/containerd)                 | `1.7.26`          | `No update`      |
| [kube-node-common](roles/kube-node-common)     | `-`               | `Updated`        |
| [kube-control-plane](roles/kube-control-plane) | `-`               | `Updated`        |
| [kube-worker](roles/kube-worker)               | `-`               | `No update`      |

## Breaking Changes ðŸ’”

### Kube-apiserver flags removed by upstream

The `--cloud-provider` and `--cloud-config` flags have been removed from kube-apiserver in Kubernetes v1.33.

No impact: clusters currently using empty values in roles (`kubernetes_cloud_provider: ""` and `kubernetes_cloud_config: ""`) will not be affected and require no changes.

Action required: clusters with active cloud provider configurations using these flags must follow the migration path below.

## Update Guide ðŸ¦®

###  Kube-apiserver flags migration path

1. Deploy an external Cloud Controller Manager (CCM)
2. Before upgrading to v1.33, ensure an external cloud controller manager appropriate for your cloud provider is deployed and verified as functional.
3. Upgrade to this new version of the on-premises installer (which removes deprecated flags from kube-apiserver).
4. Configuration for the kube-controller-manager and kubelet remain unchanged.

### Automatic upgrade using furyctl

To update using furyctl, follow this [documentation](https://docs.sighup.io/docs/installation/upgrades).

### Manual update
  
> NOTE: Each on-premises environment can be different, always double-check before updating components.

1. Update SD if applicable (see the [SD release notes](https://github.com/sighupio/distribution/tree/master/docs/releases))
2. Update the cluster using playbooks, see the examples in this repository to know more.
